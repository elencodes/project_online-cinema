import"./style-K-ao8pVJ.js";let h=[];async function g(){h=await(await fetch("../../data.json")).json()}function p(n){const e=h.filter(t=>t.name.toLowerCase().includes(n.toLowerCase())||t.director.toLowerCase().includes(n.toLowerCase())||t.genre.toLowerCase().includes(n.toLowerCase()));E(e)}function E(n){const e=document.getElementById("results--search");if(e.innerHTML="",n.length===0){e.innerHTML="<p>Фильм отсутствует в нашей библиотеке</p>";return}n.forEach(t=>{const a=document.createElement("h2");if(a.textContent=t.name,e.appendChild(a),t.name=="Дом Дракона"){const c=t.url,s="dom-drakona.html",o=document.createElement("a");o.href=s;const l=document.createElement("img");l.className="img--serach",l.src=c,o.appendChild(l),e.appendChild(o)}else if(t.name=="Исчезнувшая"){const c=t.url,s="gone-girl.html",o=document.createElement("a");o.href=s;const l=document.createElement("img");l.className="img--serach",l.src=c,o.appendChild(l),e.appendChild(o)}else{const c=document.createElement("img");c.src=t.url,c.className="img--serach",e.appendChild(c)}const r=document.createElement("h3");r.textContent="Рейтинг: "+t.rating,e.appendChild(r);const d=document.createElement("h3");d.textContent="Год: "+t.year,e.appendChild(d);const m=document.createElement("h3");m.textContent="Жанр: "+t.genre,e.appendChild(m);const i=document.createElement("h3");i.textContent="Режисер: "+t.director,e.appendChild(i);const u=document.createElement("p");u.textContent=t.info,e.appendChild(u)})}document.getElementById("searchButton").addEventListener("click",()=>{const n=document.getElementById("search").value;if(n!="")p(n);else{let e=document.getElementById("results");e.innerHTML="Введите данные для поиска"}document.getElementById("search").value=""});document.getElementById("search").addEventListener("keydown",n=>{if(n.key==="Enter"){const e=document.getElementById("search").value;if(e!="")p(e);else{let t=document.getElementById("results");t.innerHTML="Введите данные для поиска"}document.getElementById("search").value=""}});g();
